@{
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Boxicons -->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <title>Dashboard</title>
    <title>EventEase - Dashboard</title>
    <style>
        /* Main CSS */
        :root {
            --light: #f6f6f9;
            --primary: #1976D2;
            --light-primary: #CFE8FF;
            --grey: #eee;
            --dark-grey: #AAAAAA;
            --dark: #363949;
            --danger: #D32F2F;
            --light-danger: #FECDD3;
            --warning: #FBC02D;
            --light-warning: #FFF2C6;
            --success: #388E3C;
            --light-success: #BBF7D0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: var(--grey);
            overflow-x: hidden;
        }
        /* SIDEBAR */
        #sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100%;
            background: var(--light);
            z-index: 2000;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

            #sidebar.hide {
                width: 60px;
            }

            #sidebar .brand {
                display: flex;
                align-items: center;
                padding: 20px 25px;
                color: var(--dark);
                text-decoration: none;
                font-size: 24px;
                font-weight: 700;
            }

                #sidebar .brand i {
                    font-size: 30px;
                    margin-right: 10px;
                }

            #sidebar .side-menu {
                margin-top: 30px;
                padding: 0 15px;
            }

                #sidebar .side-menu li {
                    list-style: none;
                    margin-bottom: 10px;
                }

                    #sidebar .side-menu li a {
                        display: flex;
                        align-items: center;
                        padding: 12px 15px;
                        color: var(--dark);
                        text-decoration: none;
                        border-radius: 5px;
                        transition: all 0.3s ease;
                    }

                        #sidebar .side-menu li a:hover,
                        #sidebar .side-menu li a.active {
                            background: var(--light-primary);
                            color: var(--primary);
                        }

                        #sidebar .side-menu li a i {
                            font-size: 20px;
                            margin-right: 15px;
                        }

                #sidebar .side-menu.top {
                    margin-top: 0;
                }

        #content {
            position: relative;
            width: calc(100% - 280px);
            left: 280px;
            transition: all 0.3s ease;
        }

            #content nav {
                height: 70px;
                background: var(--light);
                padding: 0 20px;
                display: flex;
                align-items: center;
                justify-content: space-between;
                box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            }

                #content nav .bx-menu {
                    font-size: 24px;
                    cursor: pointer;
                    color: var(--dark);
                }

                #content nav .nav-link {
                    font-size: 16px;
                    color: var(--dark);
                    text-decoration: none;
                }

                #content nav form {
                    display: flex;
                    align-items: center;
                }

                    #content nav form .form-input {
                        display: flex;
                        align-items: center;
                        background: var(--grey);
                        border-radius: 5px;
                        overflow: hidden;
                    }

                        #content nav form .form-input input {
                            width: 250px;
                            padding: 10px 15px;
                            border: none;
                            outline: none;
                            background: transparent;
                        }

                        #content nav form .form-input button {
                            padding: 10px 15px;
                            border: none;
                            background: transparent;
                            cursor: pointer;
                            color: var(--dark);
                        }

            #content main {
                padding: 20px;
            }

                #content main .head-title {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 30px;
                }

                    #content main .head-title .left h1 {
                        font-size: 28px;
                        color: var(--dark);
                    }

                    #content main .head-title .left .breadcrumb {
                        display: flex;
                        align-items: center;
                        margin-top: 10px;
                    }

                        #content main .head-title .left .breadcrumb li {
                            list-style: none;
                            margin-right: 5px;
                        }

                            #content main .head-title .left .breadcrumb li a {
                                color: var(--dark-grey);
                                text-decoration: none;
                                font-size: 14px;
                            }

                                #content main .head-title .left .breadcrumb li a.active {
                                    color: var(--primary);
                                }

                            #content main .head-title .left .breadcrumb li i {
                                font-size: 14px;
                                color: var(--dark-grey);
                            }

                    #content main .head-title .btn-download {
                        display: flex;
                        align-items: center;
                        padding: 10px 15px;
                        background: var(--primary);
                        color: var(--light);
                        text-decoration: none;
                        border-radius: 5px;
                        font-size: 14px;
                    }

                        #content main .head-title .btn-download i {
                            margin-right: 10px;
                            font-size: 18px;
                        }

                #content main .box-info {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                    gap: 20px;
                    margin-bottom: 30px;
                }

                    #content main .box-info li {
                        list-style: none;
                        background: var(--light);
                        padding: 20px;
                        border-radius: 10px;
                        display: flex;
                        align-items: center;
                        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
                    }

                        #content main .box-info li i {
                            font-size: 30px;
                            margin-right: 20px;
                            color: var(--primary);
                        }

                        #content main .box-info li .text h3 {
                            font-size: 24px;
                            color: var(--dark);
                        }

                        #content main .box-info li .text p {
                            font-size: 14px;
                            color: var(--dark-grey);
                        }

                #content main .table-data {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                    gap: 20px;
                }

                    #content main .table-data > div {
                        background: var(--light);
                        padding: 20px;
                        border-radius: 10px;
                        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
                    }

                    #content main .table-data .head {
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        margin-bottom: 20px;
                    }

                        #content main .table-data .head h3 {
                            font-size: 18px;
                            color: var(--dark);
                        }

                        #content main .table-data .head i {
                            font-size: 20px;
                            color: var(--dark-grey);
                            cursor: pointer;
                        }

                    #content main .table-data table {
                        width: 100%;
                        border-collapse: collapse;
                    }

                        #content main .table-data table th {
                            text-align: left;
                            padding: 10px 0;
                            border-bottom: 1px solid var(--grey);
                            color: var(--dark-grey);
                            font-weight: 500;
                        }

                        #content main .table-data table td {
                            padding: 10px 0;
                            border-bottom: 1px solid var(--grey);
                            color: var(--dark);
                        }

                        #content main .table-data table tr:last-child td {
                            border-bottom: none;
                        }

                        #content main .table-data table td img {
                            width: 30px;
                            height: 30px;
                            border-radius: 50%;
                            object-fit: cover;
                            margin-right: 10px;
                            vertical-align: middle;
                        }

                        #content main .table-data table td p {
                            display: inline-block;
                            vertical-align: middle;
                        }

                        #content main .table-data table td .status {
                            padding: 5px 10px;
                            border-radius: 5px;
                            font-size: 12px;
                            font-weight: 500;
                        }

                            #content main .table-data table td .status.completed {
                                background: var(--light-success);
                                color: var(--success);
                            }

                            #content main .table-data table td .status.pending {
                                background: var(--light-warning);
                                color: var(--warning);
                            }

                            #content main .table-data table td .status.process {
                                background: var(--light-primary);
                                color: var(--primary);
                            }

                    #content main .table-data .todo-list li {
                        list-style: none;
                        padding: 10px 0;
                        border-bottom: 1px solid var(--grey);
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    }

                        #content main .table-data .todo-list li:last-child {
                            border-bottom: none;
                        }

                        #content main .table-data .todo-list li p {
                            color: var(--dark);
                        }

                        #content main .table-data .todo-list li.completed p {
                            text-decoration: line-through;
                            color: var(--dark-grey);
                        }

                        #content main .table-data .todo-list li i {
                            color: var(--dark-grey);
                            cursor: pointer;
                        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-search {
            margin-left: auto;
        }

        .form-control {
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <!-- SIDEBAR -->
    <section id="sidebar">
        <a href="#" class="brand">
            <i class='bx bxs-smile'></i>
            <span class="text">EventEase</span>
        </a>
        <ul class="side-menu top">
            <!-- Dashboard - visible to all authenticated users -->
            <li class="active">
                <a href="/Dashboard">
                    <i class='bx bxs-dashboard'></i>
                    <span class="text">Dashboard</span>
                </a>
            </li>
            <!-- Admin Permissions -->
            @if (User.HasClaim("Permission", "CanApproveManagers"))
            {
                <li>
                    <a href="/approveManagers">
                        <i class='bx bxs-user-check'></i>
                        <span class="text">Approve Managers</span>
                    </a>
                </li>
            }
            @if (User.HasClaim("Permission", "CanManageUsers"))
            {
                <li>
                    <a href="/manageUsers">
                        <i class='bx bxs-group'></i>
                        <span class="text">Manage Users</span>
                    </a>
                </li>
            }
            @if (User.HasClaim("Permission", "CanManageSettings"))
            {
                <li>
                    <a href="/Admin/Settings">
                        <i class='bx bxs-cog'></i>
                        <span class="text">System Settings</span>
                    </a>
                </li>
            }
            <!-- Event Manager Permissions -->
            @if (User.HasClaim("Permission", "CanCreateEvents"))
            {
                <li>
                    <a href="/createEvent">
                        <i class='bx bxs-calendar-plus'></i>
                        <span class="text">Create Event</span>
                    </a>
                </li>
            }
            @if (User.HasClaim("Permission", "CanViewOwnEvents"))
            {
                <li>
                    <a href="/myEvents">
                        <i class='bx bxs-calendar'></i>
                        <span class="text">My Events</span>
                    </a>
                </li>
            }
            @if (User.HasClaim("Permission", "CanViewTicketSales"))
            {
                <li>
                    <a href="/Manager/Tickets">
                        <i class='bx bxs-ticket'></i>
                        <span class="text">Ticket Sales</span>
                    </a>
                </li>
            }
            <!-- Regular User Permissions -->
            @if (User.HasClaim("Permission", "CanBrowseEvents"))
            {
                <li>
                    <a href="/User/Events">
                        <i class='bx bxs-calendar-event'></i>
                        <span class="text">Browse Events</span>
                    </a>
                </li>
            }
            @if (User.HasClaim("Permission", "CanViewOwnTickets"))
            {
                <li>
                    <a href="/User/Tickets">
                        <i class='bx bxs-ticket'></i>
                        <span class="text">My Tickets</span>
                    </a>
                </li>
            }
        </ul>
        <!-- Common items for all users -->
        <ul class="side-menu">
            @if (User.HasClaim("Permission", "CanManageProfile"))
            {
                <li>
                    <a href="/Account/Settings">
                        <i class='bx bxs-cog'></i>
                        <span class="text">Settings</span>
                    </a>
                </li>
            }
            <li>
                <a href="/Logout" class="logout">
                    <i class='bx bxs-log-out-circle'></i>
                    <span class="text">Logout</span>
                </a>
            </li>
        </ul>
    </section>
    <!-- CONTENT -->
    <main>
        <section id="content">
            @RenderBody()
        </section>
    </main>
    <script>
        // Dark mode toggle (just UI, no actual dark mode implementation)
        document.getElementById('switch-mode').addEventListener('change', function() {
            if(this.checked) {
                document.body.classList.add('dark');
            } else {
                document.body.classList.remove('dark');
            }
        });
        // Simple todo interaction
        document.querySelectorAll('.todo-list li').forEach(item => {
            item.addEventListener('click', function(e) {
                if(e.target.tagName !== 'I') {
                    this.classList.toggle('completed');
                }
            });
        });
    </script>
</body>
</html>